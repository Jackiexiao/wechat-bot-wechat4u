<p align="center">
	<strong>æ¬¢è¿ä½¿ç”¨ğŸ‘ğŸ»wechat-bot-wechat4u</strong>
</p>
<a href="#" target="_blank">
    <img alt="License: Apache-2.0" src="https://img.shields.io/badge/License-Apache2.0-red.svg" />
</a>

----------

## ğŸŒ† ç®€ä»‹

ä¸€ä¸ªæƒ…ç»ªä»·å€¼æ‹‰æ»¡çš„å¾®ä¿¡å¤¸å¤¸æœºå™¨äºº + æ‰“å¡æœºå™¨äºº + å’Œäº‹ä½¬æœºå™¨äºº

1. @ å®ƒï¼Œ å¯ä»¥è·Ÿå®ƒèŠå¤©
2. @ å®ƒ ç„¶åè¯´ â€œç»Ÿè®¡â€ï¼Œä¼šæœ‰æ‰“å¡ç»Ÿè®¡
3.  å…³é”®è¯ `#æ‰“å¡` ä¼šè§¦å‘â€œå¤¸å¤¸â€ï¼ŒåŒæ—¶ä¼šåå°è®°å½•ä½ çš„æ‰“å¡ï¼Œæ–¹ä¾¿ç»Ÿè®¡
4. @ å®ƒï¼Œå®ƒä¼šè¯†åˆ«ç¾¤èŠä¸­çš„åµæ¶ï¼ŒåŠæ—¶å……å½“å’Œäº‹ä½¬

wechat-bot-wechat4uï¼ŒåŸºäº`wechat4u`è¿›è¡Œå¼€å‘ï¼Œæ¥æ”¶å¾®ä¿¡è´¦å·æ¶ˆæ¯å¹¶æä¾›è‡ªåŠ¨å›å¤ã€è®°å½•å­˜å‚¨ã€æ¶ˆæ¯æ¨é€ã€æ¶ˆæ¯è½¬å‘ç­‰åŠŸèƒ½ï¼Œå¯é€šè¿‡è‡ªå®šä¹‰å®ç°å„ç§åŠŸèƒ½ï¼Œè¯¸å¦‚ï¼šç¤¾ç¾¤æ¥å•æœºå™¨äººã€äººå·¥æ™ºèƒ½æœºå™¨äººã€èŠå¤©ä¼´ä¾£ç­‰ã€‚

----------

## ğŸš€ åŠŸèƒ½ç‚¹

- **æ¶ˆæ¯è‡ªåŠ¨å›å¤**ï¼šæ”¯æŒå‰ç«¯å¤„ç†ï¼Œæ”¯æŒå¯¹æ¥åç«¯æ¥å£å®ç°æ›´å¤šåŠŸèƒ½
- **ç¾¤èŠç™½åå•**ï¼šæ”¯æŒæŒ‡å®šåå•å†…ç¾¤èŠå›å¤
- **ç§èŠç™½åå•**ï¼šæ”¯æŒæŒ‡å®šåå•å†…ç§èŠå›å¤
- **æ”¯æŒæ‰‹æœºåŒæ—¶åœ¨çº¿**ï¼šåŸºäºç½‘é¡µç‰ˆAPIå¼€å‘ï¼Œèƒ½å¤Ÿåœ¨æ‰‹æœºç™»å½•å¾®ä¿¡æ—¶ï¼ŒåŒæ—¶ä½¿ç”¨æœºå™¨äºº
- **æ¥å…¥ChatGPT**ï¼šç†è®ºä¸Š4ä¹Ÿèƒ½æ”¯æŒï¼Œå›¾ç‰‡æš‚ä¸æ”¯æŒ
- **PM2 è¿›ç¨‹ç®¡ç†**ï¼šæ”¯æŒæœåŠ¡ç¨³å®šæ€§ç›‘æ§ã€è‡ªåŠ¨é‡å¯ã€æ—¥å¿—ç®¡ç†
- **å®Œå–„çš„é”™è¯¯å¤„ç†**ï¼šå…¨å±€é”™è¯¯æ•è·ï¼Œè¯¦ç»†çš„æ—¥å¿—è®°å½•ï¼ŒæœåŠ¡å¼‚å¸¸å‘Šè­¦

----------

## ğŸ”¥ ä½¿ç”¨

###  è¿è¡Œç¯å¢ƒ
  
> è¯·ç¡®ä¿æ‚¨çš„è´¦å·å¯ä»¥ç™»å½•[ç½‘é¡µç‰ˆå¾®ä¿¡](https://wx.qq.com/)
> ä¸è¿‡ä½ å¯ä»¥è¯•ä¸€ä¸‹ï¼Œæœ‰æ—¶å€™ä¹Ÿèƒ½ç™»å½•æœ¬é¡¹ç›®çš„å¾®ä¿¡

#### å®‰è£… Bun
```bash
# macOS / Linux
curl -fsSL https://bun.sh/install | bash

# Windows (é€šè¿‡ WSL)
WSL: curl -fsSL https://bun.sh/install | bash
```

#### è¿è¡Œé¡¹ç›®

- å…‹éš†æœ¬é¡¹ç›®ï¼š`git clone https://github.com/labi-xiaoxin/wechat-bot-wechat4u.git`
- è¿›å…¥æœ¬é¡¹ç›®ï¼š`cd wechat-bot-wechat4u`
- å®‰è£…ä¾èµ–é¡¹ï¼š`bun install`
- è‡ªå®šä¹‰ç›¸å…³é…ç½®ï¼š
  - `config.js`: è¯¥æ–‡ä»¶é…ç½®æœºå™¨äººåç§°ã€ç¾¤èŠç™½åå•ã€ç§èŠç™½åå•ã€ï¼ˆå¦‚æœ‰ï¼‰åç«¯æ¥å£
  - `config-chatgpt.js`: è¯¥æ–‡ä»¶é…ç½®ChatGPTï¼šæ¥å£è¯·æ±‚åœ°å€ã€apikeyã€model
  - `config-proxy.js`ï¼šå›½å†…ç¯å¢ƒä¸‹ï¼Œéœ€è¦ä½¿ç”¨ä»£ç†æ‰èƒ½è¯·æ±‚ChatGPTã€‚è¯¥æ–‡ä»¶é…ç½®ç›¸å…³ä»£ç†ï¼šä»£ç†ä¸»æœºã€ä»£ç†ç«¯å£ã€ä»£ç†åè®®ã€‚å¦‚ä»£ç†éœ€è¦è´¦å·å¯†ç ï¼Œè‡ªè¡Œè°ƒæ•´ã€‚
  - `src/core/sendMessage.js`: è¯¥æ–‡ä»¶å†…`reMsg()`æ–¹æ³•ç›®å‰æœ‰2ç§å›å¤æ–¹å¼ï¼š
    - 1ã€ç®€å•è¿”å›æ¶ˆæ¯ï¼šç›´æ¥è¿”å›å®šä¹‰å¥½çš„æ¶ˆæ¯
    - 2ã€æ¥å£è¿”å›æ¶ˆæ¯ï¼šå°†æ¶ˆæ¯å°è£…å¥½ï¼Œé€šè¿‡Axioså‘é€è¯·æ±‚è‡³åç«¯ï¼Œåç«¯å¤„ç†è¿”å›æ¶ˆæ¯ï¼ˆå¦‚éœ€è¦å®ç°AIæœºå™¨äººç­‰åŠŸèƒ½ï¼Œå¯è‡ªè¡Œç¼–å†™åç«¯ï¼‰
    - 3ã€è¯·æ±‚ChatGPTï¼šå°†æ¶ˆæ¯é€šè¿‡Axioså‘é€è¯·æ±‚è‡³OpenAIï¼Œå¤„ç†å®Œæˆåå“åº”æ¶ˆæ¯ã€‚
- æµ‹è¯•é¡¹ç›®ï¼š`bun test`
- å¯åŠ¨é¡¹ç›®ï¼š`bun dev`

é¡¹ç›®æ­£å¸¸è¿è¡Œæ—¥å¿—å¦‚ä¸‹ï¼š
```log
> wechat-bot-wechat4u@1.0.0 dev
> bun run ./index.js

10:21:58 WARN æœºå™¨äººå¯åŠ¨æˆåŠŸ 
â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„â–„
â–ˆ â–„â–„â–„â–„â–„ â–ˆâ–€â–„â–ˆâ–€ â–€â–€ â–ˆâ–€â–ˆâ–„â–€â–ˆ â–„â–„â–„â–„â–„ â–ˆ
â–ˆ â–ˆ   â–ˆ â–ˆâ–„   â–„â–ˆ  â–€â–„â–ˆâ–€â–€â–ˆ â–ˆ   â–ˆ â–ˆ
â–ˆ â–ˆâ–„â–„â–„â–ˆ â–ˆ â–€â–ˆâ–€â–ˆâ–ˆâ–„â–€â–„  â–€â–€â–ˆ â–ˆâ–„â–„â–„â–ˆ â–ˆ
â–ˆâ–„â–„â–„â–„â–„â–„â–„â–ˆ â–€â–„â–ˆ â–ˆ â–€ â–€â–„â–€ â–ˆâ–„â–„â–„â–„â–„â–„â–„â–ˆ
â–ˆ â–„â–€â–„â–€â–€â–„ â–€â–ˆ â–€â–ˆ â–„â–ˆâ–ˆâ–€â–ˆâ–„â–ˆâ–€ â–„â–„â–€â–„â–„â–€â–ˆ
â–ˆâ–ˆâ–„â–€â–ˆâ–„â–ˆâ–„â–€â–ˆâ–„â–„â–ˆâ–ˆâ–€â–ˆâ–ˆâ–„â–„ â–„â–„  â–„ â–„  â–ˆâ–ˆ
â–ˆâ–€ â–€â–€ â–ˆâ–„ â–€â–€â–€â–€ â–ˆâ–ˆâ–€â–„â–„â–ˆ  â–€â–„â–ˆâ–ˆâ–„â–ˆâ–„â–„â–ˆ
â–ˆ    â–ˆ â–„â–€â–„ â–€â–ˆ â–€â–€â–€â–€â–€â–€â–€â–„ â–€â–ˆâ–ˆ â–„ â–„â–ˆ
â–ˆâ–ˆ    â–„â–„â–€â–„â–ˆâ–„â–„â–ˆâ–ˆâ–„â–ˆâ–„ â–ˆâ–ˆâ–„â–„â–€â–€â–ˆâ–€â–ˆâ–„â–€â–ˆ
â–ˆâ–„â–ˆâ–€â–€ â–€â–„â–ˆâ–„ â–ˆâ–€â–ˆâ–ˆâ–€â–€â–€â–€â–€â–ˆâ–„â–„â–„â–„â–€â–ˆâ–ˆ  â–ˆ
â–ˆâ–„â–ˆâ–ˆâ–ˆâ–ˆâ–„â–„â–„â–€â–€â–„  â–„â–€ â–€â–ˆâ–„â–„ â–„â–„â–„ â–ˆ â–€â–€â–ˆ
â–ˆ â–„â–„â–„â–„â–„ â–ˆâ–„â–€â–€   â–ˆâ–€â–„â–„â–€â–ˆ â–ˆâ–„â–ˆ â–€â–€ â–€â–ˆ
â–ˆ â–ˆ   â–ˆ â–ˆâ–€â–€  â–ˆâ–€â–„â–€â–„â–„â–ˆâ–€â–„â–„   â–€â–€â–€â–ˆâ–ˆ
â–ˆ â–ˆâ–„â–„â–„â–ˆ â–ˆâ–€â–„â–„ â–ˆâ–„â–„â–ˆâ–€ â–ˆâ–€ â–ˆâ–ˆâ–€â–„â–„â–„â–€â–„â–ˆ
â–ˆâ–„â–„â–„â–„â–„â–„â–„â–ˆâ–„â–„â–„â–ˆâ–„â–„â–ˆâ–„â–ˆâ–„â–„â–ˆâ–„â–ˆâ–„â–ˆâ–„â–ˆâ–ˆ

äºŒç»´ç åœ°å€: https://api.qrserver.com/v1/create-qr-code/?data=https%3A%2F%2Flogin.weixin.qq.com%2Fl%2FAY5C0WwogA%3D%3D
```

![image](https://github.com/labi-xiaoxin/img/blob/main/wechat-private-talk.jpg?raw=true)
![image](https://github.com/labi-xiaoxin/img/blob/main/wechat-public-room.jpg?raw=true)

## ğŸ“¦ éƒ¨ç½²æŒ‡å—

### PM2 éƒ¨ç½²ï¼ˆæ¨èï¼‰

PM2 æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ç”Ÿäº§ç¯å¢ƒè¿›ç¨‹ç®¡ç†å™¨ï¼Œå®ƒå¯ä»¥å¸®åŠ©ä½ ç®¡ç†å’Œä¿æŒåº”ç”¨ç¨‹åºçš„åœ¨çº¿è¿è¡Œã€‚æˆ‘ä»¬å·²ç»é›†æˆäº† PM2 çš„é…ç½®ï¼ˆecosystem.config.cjsï¼‰ï¼Œä½¿å¾—éƒ¨ç½²å’Œç»´æŠ¤å˜å¾—æ›´åŠ ç®€å•ã€‚

1. **å®‰è£…ä¾èµ–**
```bash
# å®‰è£… Bunï¼ˆå¦‚æœæœªå®‰è£…ï¼‰
curl -fsSL https://bun.sh/install | bash

# å®‰è£…é¡¹ç›®ä¾èµ–
bun install
```

2. **å¯åŠ¨æœåŠ¡**
```bash
# ä½¿ç”¨ PM2 å¯åŠ¨æœåŠ¡
bun run start

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
pm2 status
```

3. **æŸ¥çœ‹æ—¥å¿—**
```bash
# æŸ¥çœ‹å®æ—¶æ—¥å¿—
pm2 logs wechat-bot

# æŸ¥çœ‹å†å²æ—¥å¿—
pm2 logs wechat-bot --lines 1000
```

4. **æœåŠ¡ç®¡ç†**
```bash
# åœæ­¢æœåŠ¡
bun run stop

# é‡å¯æœåŠ¡
bun run restart

# æŸ¥çœ‹æœåŠ¡ç›‘æ§é¢æ¿
pm2 monit
```

### PM2 ç‰¹æ€§

- **è‡ªåŠ¨é‡å¯**ï¼šæœåŠ¡å´©æºƒæ—¶è‡ªåŠ¨é‡å¯
- **è´Ÿè½½å‡è¡¡**ï¼šå¯é…ç½®å¤šè¿›ç¨‹è¿è¡Œï¼ˆå½“å‰é…ç½®ä¸ºå•è¿›ç¨‹ï¼‰
- **æ—¥å¿—ç®¡ç†**ï¼šè‡ªåŠ¨æ—¥å¿—åˆ†å‰²ï¼Œé¿å…æ—¥å¿—æ–‡ä»¶è¿‡å¤§
- **æ€§èƒ½ç›‘æ§**ï¼šCPU/å†…å­˜ç›‘æ§ï¼Œå¼‚å¸¸å‘Šè­¦
- **ä¼˜é›…é‡å¯**ï¼šæ›´æ–°ä»£ç æ—¶æ— ç¼é‡å¯ï¼Œä¸å½±å“æœåŠ¡
- **ç¯å¢ƒé…ç½®**ï¼šæ”¯æŒå¼€å‘å’Œç”Ÿäº§ç¯å¢ƒé…ç½®åˆ†ç¦»

### æ—¥å¿—è¯´æ˜

æ—¥å¿—æ–‡ä»¶ä½äº `logs` ç›®å½•ä¸‹ï¼š
- `error.log`: é”™è¯¯æ—¥å¿—
- `combined.log`: æ‰€æœ‰çº§åˆ«çš„æ—¥å¿—
- `out.log`: PM2 æ ‡å‡†è¾“å‡ºæ—¥å¿—
- `err.log`: PM2 é”™è¯¯è¾“å‡ºæ—¥å¿—

## ğŸ¤ ä¸ºé¡¹ç›®æ·»ç –åŠ ç“¦

æ¬¢è¿æå‡º Contributions, issues ä¸ feature requests!<br />
éšæ—¶æŸ¥çœ‹ [issues page](https://github.com/labi-xiaoxin/wechat-bot-wechat4u/issues).

## æ„Ÿè°¢æ”¯æŒ ğŸ™

å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ äº§ç”Ÿäº†ä¸€ç‚¹çš„å¸®åŠ©ï¼Œè¯·ä¸ºè¿™ä¸ªé¡¹ç›®ç‚¹ä¸Šä¸€é¢— â­ï¸